<div class="help-container">
  <!-- Hero Section -->
  <div class="help-header">
    <div class="header-content">
      <h1>Centre d'aide</h1>
      <p class="header-subtitle">Trouvez rapidement les réponses à vos questions</p>
    </div>
    
    <!-- Search Bar -->
    <div class="search-section">
      <mat-form-field appearance="outline" class="search-field">
        <mat-label>Rechercher dans l'aide</mat-label>
        <input matInput 
               placeholder="Ex: créer un ticket, modifier mon profil..." 
               [(ngModel)]="searchQuery"
               (ngModelChange)="onSearch($event)">
        <mat-icon matPrefix>search</mat-icon>
        <button mat-icon-button matSuffix (click)="clearSearch()" *ngIf="searchQuery">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
    </div>
  </div>

  <div class="help-content">
    <!-- Quick Actions -->
    <div class="quick-actions" *ngIf="!searchQuery">
      <h2>Actions rapides</h2>
      <div class="actions-grid">
        <mat-card class="action-card" (click)="scrollToSection('tickets')">
          <mat-icon>add_box</mat-icon>
          <h3>Créer un ticket</h3>
          <p>Guide pour créer votre premier ticket d'incident</p>
        </mat-card>
        
        <mat-card class="action-card" (click)="scrollToSection('account')">
          <mat-icon>person</mat-icon>
          <h3>Mon compte</h3>
          <p>Gérer vos informations personnelles et préférences</p>
        </mat-card>
        
        <mat-card class="action-card" (click)="scrollToSection('navigation')">
          <mat-icon>explore</mat-icon>
          <h3>Navigation</h3>
          <p>Découvrir les fonctionnalités de l'application</p>
        </mat-card>
        
        <mat-card class="action-card" (click)="scrollToSection('troubleshooting')">
          <mat-icon>build</mat-icon>
          <h3>Dépannage</h3>
          <p>Solutions aux problèmes les plus courants</p>
        </mat-card>
      </div>
    </div>

    <!-- FAQ Sections -->
    <div class="faq-sections">
      <!-- Tickets Section -->
      <div class="faq-section" id="tickets" *ngIf="shouldShowSection('tickets')">
        <div class="section-header">
          <mat-icon>assignment</mat-icon>
          <h2>Gestion des tickets</h2>
        </div>
        
        <mat-accordion multi>
          <mat-expansion-panel class="faq-panel" *ngFor="let faq of getFilteredFAQs('tickets')">
            <mat-expansion-panel-header>
              <mat-panel-title>{{ faq.question }}</mat-panel-title>
            </mat-expansion-panel-header>
            <div class="faq-content" [innerHTML]="faq.answer"></div>
          </mat-expansion-panel>
        </mat-accordion>
      </div>

      <!-- Account Section -->
      <div class="faq-section" id="account" *ngIf="shouldShowSection('account')">
        <div class="section-header">
          <mat-icon>person</mat-icon>
          <h2>Mon compte</h2>
        </div>
        
        <mat-accordion multi>
          <mat-expansion-panel class="faq-panel" *ngFor="let faq of getFilteredFAQs('account')">
            <mat-expansion-panel-header>
              <mat-panel-title>{{ faq.question }}</mat-panel-title>
            </mat-expansion-panel-header>
            <div class="faq-content" [innerHTML]="faq.answer"></div>
          </mat-expansion-panel>
        </mat-accordion>
      </div>

      <!-- Navigation Section -->
      <div class="faq-section" id="navigation" *ngIf="shouldShowSection('navigation')">
        <div class="section-header">
          <mat-icon>explore</mat-icon>
          <h2>Navigation</h2>
        </div>
        
        <mat-accordion multi>
          <mat-expansion-panel class="faq-panel" *ngFor="let faq of getFilteredFAQs('navigation')">
            <mat-expansion-panel-header>
              <mat-panel-title>{{ faq.question }}</mat-panel-title>
            </mat-expansion-panel-header>
            <div class="faq-content" [innerHTML]="faq.answer"></div>
          </mat-expansion-panel>
        </mat-accordion>
      </div>

      <!-- Troubleshooting Section -->
      <div class="faq-section" id="troubleshooting" *ngIf="shouldShowSection('troubleshooting')">
        <div class="section-header">
          <mat-icon>build</mat-icon>
          <h2>Dépannage</h2>
        </div>
        
        <mat-accordion multi>
          <mat-expansion-panel class="faq-panel" *ngFor="let faq of getFilteredFAQs('troubleshooting')">
            <mat-expansion-panel-header>
              <mat-panel-title>{{ faq.question }}</mat-panel-title>
            </mat-expansion-panel-header>
            <div class="faq-content" [innerHTML]="faq.answer"></div>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
    </div>

    <!-- No Results -->
    <div class="no-results" *ngIf="searchQuery && getSearchResults().length === 0">
      <mat-icon>search_off</mat-icon>
      <h3>Aucun résultat trouvé</h3>
      <p>Essayez avec d'autres mots-clés ou contactez le support technique.</p>
      <button mat-raised-button color="primary" (click)="contactSupport()">
        <mat-icon>email</mat-icon>
        Contacter le support
      </button>
    </div>

    <!-- Contact Section -->
    <div class="contact-section" *ngIf="!searchQuery">
      <mat-card class="contact-card">
        <mat-card-header>
          <div mat-card-avatar class="contact-avatar">
            <mat-icon>support_agent</mat-icon>
          </div>
          <mat-card-title>Besoin d'aide supplémentaire ?</mat-card-title>
          <mat-card-subtitle>Notre équipe support est là pour vous aider</mat-card-subtitle>
        </mat-card-header>
        
        <mat-card-content>
          <div class="contact-methods">
            <div class="contact-method">
              <mat-icon>email</mat-icon>
              <div class="method-info">
                <strong>Email</strong>
                <span>support@sgi.com</span>
              </div>
            </div>
            
            <div class="contact-method">
              <mat-icon>phone</mat-icon>
              <div class="method-info">
                <strong>Téléphone</strong>
                <span>+33 1 23 45 67 89</span>
              </div>
            </div>
            
            <div class="contact-method">
              <mat-icon>schedule</mat-icon>
              <div class="method-info">
                <strong>Horaires</strong>
                <span>Lun-Ven 9h-18h</span>
              </div>
            </div>
          </div>
        </mat-card-content>
        
        <mat-card-actions>
          <button mat-raised-button color="primary" (click)="contactSupport()">
            <mat-icon>chat</mat-icon>
            Ouvrir un ticket support
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>